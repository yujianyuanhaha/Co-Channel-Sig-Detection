xb = [1 0 1 0 1 1 0 0 0 1 1 0];
rCosSpec =  fdesign.pulseshaping(8,'Raised Cosine',...
    'Nsym,Beta',6,0.25);
rCosFlt = design ( rCosSpec );
rCosFlt.Numerator = rCosFlt.Numerator / max(rCosFlt.Numerator);

upsampled = upsample ( xb , 8);
%x = filter (rCosFlt , upsampled);
FltDelay = (6*8)/2;
x = filter (rCosFlt , [ upsampled , zeros(1,FltDelay) ] );

sigma = 0.0;
noise =  sigma * ( randn ( 1, length(x) ) + 1i * randn( 1, length(x)) );
r = x + noise;
z = downsample (r , 8 );
z2 = z(length(z):end)